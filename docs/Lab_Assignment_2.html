<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Peter James" />

<meta name="date" content="2025-04-21" />

<title>Lab 2 Assignment</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SPH 215: GIS and Public Health Spring 2025</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Syllabus.html">Syllabus</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab1.html">Lab 1: Intro to R</a>
    </li>
    <li>
      <a href="Lab2.html">Lab 2: Geocoding, Vector Data, and Census Data </a>
    </li>
    <li>
      <a href="Lab3.html">Lab 3: Polygons and Rasters</a>
    </li>
    <li>
      <a href="Lab4.html">Lab 4: Spatial Data Processing with Vector Data</a>
    </li>
    <li>
      <a href="Lab5.html">Lab 5: Spatial Data Processing with Vector and Raster Data</a>
    </li>
    <li>
      <a href="Lab6.html">Lab 6: Network Analysis</a>
    </li>
    <li>
      <a href="Lab7.html">Lab 7: Spatial Statistics</a>
    </li>
    <li>
      <a href="Lab8.html">Lab 8: Geographically Weighted Regression</a>
    </li>
    <li>
      <a href="Lab9.html">Lab 9: Future Directions in GIS and Public Health</a>
    </li>
  </ul>
</li>
<li>
  <a href="Assignments.html">Assignment Guide</a>
</li>
<li>
  <a href="Other.html">Data Sources</a>
</li>
<li>
  <a href="R_help.html">Help with R</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lab 2 Assignment</h1>
<h4 class="author">Peter James</h4>
<h4 class="date">2025-04-21</h4>

</div>


<pre class="r"><code>library(sf)
library(MapGAM)
library(tidyverse)
library(tidycensus)
library(flextable)
library(RColorBrewer)
library(tmap)
library(terra)</code></pre>
<pre><code>## terra 1.8.29</code></pre>
<pre><code>## 
## Attaching package: &#39;terra&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:flextable&#39;:
## 
##     align, colorize, rotate, width</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     extract</code></pre>
<p>We’ll bring in the file NDVI_rast.tif. The file contains normalized
difference vegetation index (NDVI) data for the Bay Area. These data are
taken from Landsat satellite data that I downloaded from Google Earth
Engine. We use the function <code>rast()</code> to bring in data in
raster form, then take a look at the dataset.</p>
<pre class="r"><code>url &lt;- &quot;https://github.com/pjames-ucdavis/SPH215/raw/main/LST_med_ca.tif&quot;
download.file(url, destfile = &quot;LST_med_ca.tif&quot;, mode = &quot;wb&quot;)
LST_raster = rast(&quot;LST_med_ca.tif&quot;)

## Get summary of raster data
LST_raster</code></pre>
<pre><code>## class       : SpatRaster 
## dimensions  : 1056, 1153, 1  (nrow, ncol, nlyr)
## resolution  : 0.008983153, 0.008983153  (x, y)
## extent      : -124.4885, -114.131, 32.528, 42.01421  (xmin, xmax, ymin, ymax)
## coord. ref. : lon/lat WGS 84 (EPSG:4326) 
## source      : LST_med_ca.tif 
## name        : LST_Day_1km_median</code></pre>
<p><br />
</p>
<p>Does it have a CRS?</p>
<pre class="r"><code>## Check CRS
st_crs(LST_raster)</code></pre>
<pre><code>## Coordinate Reference System:
##   User input: WGS 84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     ENSEMBLE[&quot;World Geodetic System 1984 ensemble&quot;,
##         MEMBER[&quot;World Geodetic System 1984 (Transit)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G730)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G873)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1150)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1674)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1762)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2139)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2296)&quot;],
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         ENSEMBLEACCURACY[2.0]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;World.&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p><br />
</p>
<p>OK we have what looks like a raster. We see our resolution and our
extent, and we have a CRS. Nice! Shall we plot this?</p>
<pre class="r"><code>## Plot the raster on a map
tmap_mode(&quot;plot&quot;)</code></pre>
<pre><code>## ℹ tmap mode set to &quot;plot&quot;.</code></pre>
<pre class="r"><code>LST_map = tm_shape(LST_raster) +
  tm_raster(style = &quot;cont&quot;) +
  tm_legend(outside = TRUE)</code></pre>
<pre><code>## 
## ── tmap v3 code detected ────────────────────────────────────────────────────
## [v3-&gt;v4] `tm_raster()`: instead of `style = &quot;cont&quot;`, use col.scale =
## `tm_scale_continuous()`.</code></pre>
<pre class="r"><code>LST_map</code></pre>
<pre><code>## [v3-&gt;v4] `tm_legend()`: use &#39;tm_legend()&#39; inside a layer function, e.g.
## &#39;tm_polygons(..., fill.legend = tm_legend())&#39;
## This message is displayed once every 8 hours.</code></pre>
<p><img src="Lab_Assignment_2_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><br />
</p>
<div id="crop" class="section level2">
<h2>Crop</h2>
<p>OK, let’s see if we can crop this to focus on San Francisco. I’ve
googled the lat and long for the area around San Francisco, and I’ll put
these right into my <code>crop()</code> function. I can use the
<code>tmap_mode("view")</code> now because the raster is small enough
for R to make interactive.</p>
<pre class="r"><code>sf_rast&lt;-crop(LST_raster, ext(-122.8, -121.5, 37.5, 38.6))

tmap_mode(&quot;plot&quot;)</code></pre>
<pre><code>## ℹ tmap mode set to &quot;plot&quot;.</code></pre>
<pre class="r"><code>LAN_sf_map = tm_shape(sf_rast) +
  tm_raster(title = &quot;LAN&quot;,
             style=&quot;cont&quot;,
            ) +
  tm_legend(outside = TRUE)</code></pre>
<pre><code>## 
## ── tmap v3 code detected ────────────────────────────────────────────────────
## [v3-&gt;v4] `tm_raster()`: instead of `style = &quot;cont&quot;`, use col.scale =
## `tm_scale_continuous()`.[v3-&gt;v4] `tm_raster()`: migrate the argument(s) related to the legend of the
## visual variable `col` namely &#39;title&#39; to &#39;col.legend = tm_legend(&lt;HERE&gt;)&#39;</code></pre>
<pre class="r"><code>LAN_sf_map</code></pre>
<p><img src="Lab_Assignment_2_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>One last step. Let’s put all our knowledge together and map our old
friend CAdata on top of the NDVI data in San Francisco. First, let’s
bring in the CAdata dataset on ovarian cancer cases again.</p>
<pre class="r"><code>data(CAdata)
ca_pts &lt;- CAdata
ca_proj &lt;- &quot;+proj=lcc +lat_1=40 +lat_2=41.66666666666666 
             +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000 
             +y_0=500000.0000000002 +ellps=GRS80 
             +datum=NAD83 +units=m +no_defs&quot;

ca_pts &lt;- st_as_sf(CAdata, coords=c(&quot;X&quot;,&quot;Y&quot;), crs=ca_proj)</code></pre>
<p><br />
</p>
<p>Let’s check the CRS and compare it to our NDVI dataset.</p>
<pre class="r"><code>st_crs(ca_pts)</code></pre>
<pre><code>## Coordinate Reference System:
##   User input: +proj=lcc +lat_1=40 +lat_2=41.66666666666666 
##              +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000 
##              +y_0=500000.0000000002 +ellps=GRS80 
##              +datum=NAD83 +units=m +no_defs 
##   wkt:
## PROJCRS[&quot;unknown&quot;,
##     BASEGEOGCRS[&quot;unknown&quot;,
##         DATUM[&quot;North American Datum 1983&quot;,
##             ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,
##                 LENGTHUNIT[&quot;metre&quot;,1]],
##             ID[&quot;EPSG&quot;,6269]],
##         PRIMEM[&quot;Greenwich&quot;,0,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8901]]],
##     CONVERSION[&quot;unknown&quot;,
##         METHOD[&quot;Lambert Conic Conformal (2SP)&quot;,
##             ID[&quot;EPSG&quot;,9802]],
##         PARAMETER[&quot;Latitude of false origin&quot;,39.3333333333333,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8821]],
##         PARAMETER[&quot;Longitude of false origin&quot;,-122,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8822]],
##         PARAMETER[&quot;Latitude of 1st standard parallel&quot;,40,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8823]],
##         PARAMETER[&quot;Latitude of 2nd standard parallel&quot;,41.6666666666667,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8824]],
##         PARAMETER[&quot;Easting at false origin&quot;,2000000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8826]],
##         PARAMETER[&quot;Northing at false origin&quot;,500000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8827]]],
##     CS[Cartesian,2],
##         AXIS[&quot;(E)&quot;,east,
##             ORDER[1],
##             LENGTHUNIT[&quot;metre&quot;,1,
##                 ID[&quot;EPSG&quot;,9001]]],
##         AXIS[&quot;(N)&quot;,north,
##             ORDER[2],
##             LENGTHUNIT[&quot;metre&quot;,1,
##                 ID[&quot;EPSG&quot;,9001]]]]</code></pre>
<pre class="r"><code>st_crs(LST_raster)</code></pre>
<pre><code>## Coordinate Reference System:
##   User input: WGS 84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     ENSEMBLE[&quot;World Geodetic System 1984 ensemble&quot;,
##         MEMBER[&quot;World Geodetic System 1984 (Transit)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G730)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G873)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1150)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1674)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1762)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2139)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2296)&quot;],
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         ENSEMBLEACCURACY[2.0]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;World.&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p><br />
</p>
<p>Hmmm, let’s make sure they are the same projection.</p>
<pre class="r"><code>ca_pts_proj&lt;-st_transform(ca_pts,st_crs(LST_raster))
st_crs(ca_pts_proj)</code></pre>
<pre><code>## Coordinate Reference System:
##   User input: WGS 84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     ENSEMBLE[&quot;World Geodetic System 1984 ensemble&quot;,
##         MEMBER[&quot;World Geodetic System 1984 (Transit)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G730)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G873)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1150)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1674)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1762)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2139)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2296)&quot;],
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         ENSEMBLEACCURACY[2.0]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;World.&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p>OK should be good to go</p>
<pre class="r"><code>tmap_mode(&quot;plot&quot;)</code></pre>
<pre><code>## ℹ tmap mode set to &quot;plot&quot;.</code></pre>
<pre class="r"><code>LAN_cancer_map = tm_shape(LST_raster) +
  tm_raster(style = &quot;cont&quot;, title = &quot;Light at Night&quot;) +
  tm_legend(outside = TRUE) +
  tm_shape(ca_pts_proj) + 
  tm_dots(size=0.3, alpha=0.5, col = &quot;red&quot;)</code></pre>
<pre><code>## 
## ── tmap v3 code detected ────────────────────────────────────────────────────
## [v3-&gt;v4] `tm_raster()`: instead of `style = &quot;cont&quot;`, use col.scale =
## `tm_scale_continuous()`.[v3-&gt;v4] `tm_raster()`: migrate the argument(s) related to the legend of the
## visual variable `col` namely &#39;title&#39; to &#39;col.legend = tm_legend(&lt;HERE&gt;)&#39;[v3-&gt;v4] `tm_dots()`: use `fill_alpha` instead of `alpha`.</code></pre>
<pre class="r"><code>LAN_cancer_map</code></pre>
<p><img src="Lab_Assignment_2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiTGFiIDIgQXNzaWdubWVudCIKYXV0aG9yOiAiUGV0ZXIgSmFtZXMiCmRhdGU6ICIyMDI1LTA0LTIxIgpvdXRwdXQ6IGh0bWxfZG9jdW1lbnQKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGVjaG8gPSBUUlVFKQpgYGAKCmBgYHtyfQpsaWJyYXJ5KHNmKQpsaWJyYXJ5KE1hcEdBTSkKbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkodGlkeWNlbnN1cykKbGlicmFyeShmbGV4dGFibGUpCmxpYnJhcnkoUkNvbG9yQnJld2VyKQpsaWJyYXJ5KHRtYXApCmxpYnJhcnkodGVycmEpCmBgYAoKV2XigJlsbCBicmluZyBpbiB0aGUgZmlsZSBORFZJX3Jhc3QudGlmLiBUaGUgZmlsZSBjb250YWlucyBub3JtYWxpemVkIGRpZmZlcmVuY2UgdmVnZXRhdGlvbiBpbmRleCAoTkRWSSkgZGF0YSBmb3IgdGhlIEJheSBBcmVhLiBUaGVzZSBkYXRhIGFyZSB0YWtlbiBmcm9tIExhbmRzYXQgc2F0ZWxsaXRlIGRhdGEgdGhhdCBJIGRvd25sb2FkZWQgZnJvbSBHb29nbGUgRWFydGggRW5naW5lLiBXZSB1c2UgdGhlIGZ1bmN0aW9uIGByYXN0KClgIHRvIGJyaW5nIGluIGRhdGEgaW4gcmFzdGVyIGZvcm0sIHRoZW4gdGFrZSBhIGxvb2sgYXQgdGhlIGRhdGFzZXQuCgpgYGB7cn0KdXJsIDwtICJodHRwczovL2dpdGh1Yi5jb20vcGphbWVzLXVjZGF2aXMvU1BIMjE1L3Jhdy9tYWluL0xTVF9tZWRfY2EudGlmIgpkb3dubG9hZC5maWxlKHVybCwgZGVzdGZpbGUgPSAiTFNUX21lZF9jYS50aWYiLCBtb2RlID0gIndiIikKTFNUX3Jhc3RlciA9IHJhc3QoIkxTVF9tZWRfY2EudGlmIikKCiMjIEdldCBzdW1tYXJ5IG9mIHJhc3RlciBkYXRhCkxTVF9yYXN0ZXIKYGBgCgpcCgpEb2VzIGl0IGhhdmUgYSBDUlM/CmBgYHtyfQoKIyMgQ2hlY2sgQ1JTCnN0X2NycyhMU1RfcmFzdGVyKQoKYGBgCgpcCgpPSyB3ZSBoYXZlIHdoYXQgbG9va3MgbGlrZSBhIHJhc3Rlci4gV2Ugc2VlIG91ciByZXNvbHV0aW9uIGFuZCBvdXIgZXh0ZW50LCBhbmQgd2UgaGF2ZSBhIENSUy4gTmljZSEgU2hhbGwgd2UgcGxvdCB0aGlzPwoKYGBge3J9CiMjIFBsb3QgdGhlIHJhc3RlciBvbiBhIG1hcAp0bWFwX21vZGUoInBsb3QiKQpMU1RfbWFwID0gdG1fc2hhcGUoTFNUX3Jhc3RlcikgKwogIHRtX3Jhc3RlcihzdHlsZSA9ICJjb250IikgKwogIHRtX2xlZ2VuZChvdXRzaWRlID0gVFJVRSkKTFNUX21hcApgYGAKClwKCiMjIENyb3AKCk9LLCBsZXQncyBzZWUgaWYgd2UgY2FuIGNyb3AgdGhpcyB0byBmb2N1cyBvbiBTYW4gRnJhbmNpc2NvLiBJJ3ZlIGdvb2dsZWQgdGhlIGxhdCBhbmQgbG9uZyBmb3IgdGhlIGFyZWEgYXJvdW5kIFNhbiBGcmFuY2lzY28sIGFuZCBJJ2xsIHB1dCB0aGVzZSByaWdodCBpbnRvIG15IGBjcm9wKClgIGZ1bmN0aW9uLiBJIGNhbiB1c2UgdGhlIGB0bWFwX21vZGUoInZpZXciKWAgbm93IGJlY2F1c2UgdGhlIHJhc3RlciBpcyBzbWFsbCBlbm91Z2ggZm9yIFIgdG8gbWFrZSBpbnRlcmFjdGl2ZS4KCmBgYHtyfQpzZl9yYXN0PC1jcm9wKExTVF9yYXN0ZXIsIGV4dCgtMTIyLjgsIC0xMjEuNSwgMzcuNSwgMzguNikpCgp0bWFwX21vZGUoInBsb3QiKQpMQU5fc2ZfbWFwID0gdG1fc2hhcGUoc2ZfcmFzdCkgKwogIHRtX3Jhc3Rlcih0aXRsZSA9ICJMQU4iLAogICAgICAgICAgICAgc3R5bGU9ImNvbnQiLAogICAgICAgICAgICApICsKICB0bV9sZWdlbmQob3V0c2lkZSA9IFRSVUUpCgpMQU5fc2ZfbWFwCmBgYAoKT25lIGxhc3Qgc3RlcC4gTGV0J3MgcHV0IGFsbCBvdXIga25vd2xlZGdlIHRvZ2V0aGVyIGFuZCBtYXAgb3VyIG9sZCBmcmllbmQgQ0FkYXRhIG9uIHRvcCBvZiB0aGUgTkRWSSBkYXRhIGluIFNhbiBGcmFuY2lzY28uIEZpcnN0LCBsZXQncyBicmluZyBpbiB0aGUgQ0FkYXRhIGRhdGFzZXQgb24gb3ZhcmlhbiBjYW5jZXIgY2FzZXMgYWdhaW4uIAoKYGBge3J9CmRhdGEoQ0FkYXRhKQpjYV9wdHMgPC0gQ0FkYXRhCmNhX3Byb2ogPC0gIitwcm9qPWxjYyArbGF0XzE9NDAgK2xhdF8yPTQxLjY2NjY2NjY2NjY2NjY2IAogICAgICAgICAgICAgK2xhdF8wPTM5LjMzMzMzMzMzMzMzMzM0ICtsb25fMD0tMTIyICt4XzA9MjAwMDAwMCAKICAgICAgICAgICAgICt5XzA9NTAwMDAwLjAwMDAwMDAwMDIgK2VsbHBzPUdSUzgwIAogICAgICAgICAgICAgK2RhdHVtPU5BRDgzICt1bml0cz1tICtub19kZWZzIgoKY2FfcHRzIDwtIHN0X2FzX3NmKENBZGF0YSwgY29vcmRzPWMoIlgiLCJZIiksIGNycz1jYV9wcm9qKQpgYGAKClwKCkxldCdzIGNoZWNrIHRoZSBDUlMgYW5kIGNvbXBhcmUgaXQgdG8gb3VyIE5EVkkgZGF0YXNldC4KCmBgYHtyfQpzdF9jcnMoY2FfcHRzKQpzdF9jcnMoTFNUX3Jhc3RlcikKYGBgCgpcCgpIbW1tLCBsZXQncyBtYWtlIHN1cmUgdGhleSBhcmUgdGhlIHNhbWUgcHJvamVjdGlvbi4KCmBgYHtyfQpjYV9wdHNfcHJvajwtc3RfdHJhbnNmb3JtKGNhX3B0cyxzdF9jcnMoTFNUX3Jhc3RlcikpCnN0X2NycyhjYV9wdHNfcHJvaikKYGBgCgpPSyBzaG91bGQgYmUgZ29vZCB0byBnbwpgYGB7cn0KdG1hcF9tb2RlKCJwbG90IikKTEFOX2NhbmNlcl9tYXAgPSB0bV9zaGFwZShMU1RfcmFzdGVyKSArCiAgdG1fcmFzdGVyKHN0eWxlID0gImNvbnQiLCB0aXRsZSA9ICJMaWdodCBhdCBOaWdodCIpICsKICB0bV9sZWdlbmQob3V0c2lkZSA9IFRSVUUpICsKICB0bV9zaGFwZShjYV9wdHNfcHJvaikgKyAKICB0bV9kb3RzKHNpemU9MC4zLCBhbHBoYT0wLjUsIGNvbCA9ICJyZWQiKQpMQU5fY2FuY2VyX21hcApgYGA=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Lab_Assignment_2.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
